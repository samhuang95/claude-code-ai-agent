­▋設定步驟（情境一）­
­­
­再來就要根據情境一和情境二來設定觸發語音指令­
­­
­情境一的通知我們使用 Claude Code 的 hook 功能 （不想讀可以看最下面備注）­
­­
­所有需要你確認的狀況，Claude Code 都會觸發 Notification Hook，你可以很簡單的直接設定­
­­
­這樣每次需要你確認時，電腦就會發出“請確認”的語音通知，是不是很酷～­
­­
­當然這樣是不夠的，我們還需要一些情緒價值­
­­
­不然一直叫我去確認，到底誰是老闆～­
­­
­我怕他搞不清楚，因此我請 AI 幫我寫了一個腳本­
­­
­建立一個 notification.sh 檔案­
­­
­然後設定 settings.json­
­­
­你可以自行修改­
­­
­這樣每次觸發通知時，就會從這裡面隨機選一個念出來­
­­
­請看示範­
­­
­你可以發揮你的創意、個人喜好，讓你的奴隸用你喜歡的方式通知你­
­­
­▋設定步驟（情境二）­
­­
­情境二本質是摘要任務結果，並把結果觸發 say 指令說出來­
­­
­這肯定必須要用到 AI 的功能了，先說這部分我踩過的雷­
­­
­我一開始想要用 Stop hook 觸發，使用 claude -p 非互動功能指令，讓 Stop hook 幫我把整個對話內容送給 AI 請他摘要，回傳後再用 pipe 方式吐給 say 指令（這也是我問 AI 的，我本來根本不會這個指令）­
­­
­邏輯和想法完美沒有問題，但是我一直無法成功，後來發現是 hook 的環境好像讀不到系統環境變數，導致 claude -p 沒辦法讀到 claude max 訂閱方案的權限，所以會沒有回應，我試老半天試不出來，突然靈機一動想到一個好方法­
­­
­我何不直接要求 Claude Code 每次完成任務後，就把完成的摘要用語音通知我就好了­
­­
­因此我在 CLAUDE.md 增加了以下規則­
­­
­預設他會一直跟你報告他現在在幹嘛，做到哪報到哪，有夠奴­
­­
­一聽哪裡不對勁，可以馬上暫停，還能用說的罵他（按這個麥克風）­
­­
­嫌他吵的話，可以輸入「語音模式：精簡」，他就只會完成時再通知­
­­
­在開會或是想安靜，就叫他閉嘴，他就會嘴巴閉閉了­
­­
­就這麼簡單，現在你的 AI 會說話了。­
­­
­---­
­­
­▋三種模式­
­­
­整理一下，我設定三種模式，根據場合切換，你也可以自行調整 Prompt：­
­­
­預設模式（完整通知）­
­­
­精簡模式（只有結束通知）­
­­
­安靜模式（開會用）­
­­
­切換方式：­
­­
­1. 預設模式下，整個過程都會通知，完成也會通知­
­2. 「語音模式：精簡」：只有完成會通知­
­3. 「安靜」：不會語音通知­
­­
­備註：因為這是指令，AI 就有可能不會執行，通常是 Context Window 太大或是自動壓縮後，有可能 AI 會忘記，這也是一種判斷上下文視窗是不是太滿的方式­
­­
­但現在我用狀態列判斷更準（這部分下篇講）­
­­
­---­

­­
­是說不管聽到早餐店阿姨還是 AI 叫我「帥哥」，感覺好像都差不多­